# ğŸ› ë¹Œë“œ ìŠ¤í…Œì´ì§€
FROM gradle:8.14.1-jdk21 AS build
WORKDIR /app
COPY . .
RUN gradle build --no-daemon -x test

# ì‹¤í–‰ ìŠ¤í…Œì´ì§€
FROM eclipse-temurin:21-jdk-alpine
WORKDIR /app

# ë¹Œë“œí•œ JAR ë³µì‚¬
COPY --from=build /app/build/libs/*.jar app.jar

# ì™¸ë¶€ ì ‘ê·¼ì„ ìœ„í•œ í¬íŠ¸ ì„¤ì •
EXPOSE 8095

# JAR ì‹¤í–‰
CMD ["java", "-jar", "app.jar"]
